<?xml version="1.0"?>

<project name="Dizzy" default="compile" basedir=".">
  <property name="app.styleDir"                 location="${basedir}/html" />
  <property name="app.buildDir"                 location="${basedir}/build" />
  <property name="app.configDir"                location="${basedir}/config" />
  <property name="app.webDir"                   location="${projWebDir}/${ant.project.name}" />
  <property name="app.installerDir"             location="${app.webDir}/installer" />

  <target name="compile">
    <!-- nothing to do -->
  </target>

  <target name="clean">
    <delete dir="${app.styleDir}" quiet="yes" />
    <delete dir="${app.buildDir}/projectlocales" quiet="yes" />
    <delete file="${app.configDir}/CommonConfig.dtd" quiet="yes" />
  </target>

  <target name="copyCommonConfig">
    <copy file="${projConfigDir}/CommonConfig.dtd" todir="${app.configDir}" />
  </target>

  <target name="style" depends="copyCommonConfig">
    <mkdir dir="${app.styleDir}" />
    <style basedir="${basedir}/docs" 
           destdir="${app.styleDir}" 
           includes="*.xml" 
           style="${docsStyleSheet}"
           excludes="AppConfig.xml" />
  </target>

  <target name="copyHtml">
    <mkdir dir="${app.webDir}" />
    <copy todir="${app.webDir}">
      <fileset dir="${app.styleDir}">
        <include name="*.html" />
      </fileset>
    </copy>
  </target>

  <target name="buildWeb" depends="style">
    <mkdir dir="${app.webDir}" />
    <copy todir="${app.webDir}">
      <fileset dir="${app.styleDir}">
        <include name="*.html" />
      </fileset>
    </copy>
    <mkdir dir="${app.installerDir}" />

    <!-- create symbolic link for InstallAnywhere build output: -->
    <exec executable="ln">
      <arg value="-s" />
      <arg value="${app.installerDir}" />
      <arg value="${app.buildDir}/project_Build_Output" />
    </exec>
  </target>

  <target name="build" depends="style, copyCommonConfig">
    <!-- do nothing -->
  </target>

  <target name="distclean" depends="clean">
  </target>

</project>